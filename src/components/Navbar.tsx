"use client";

import React, { useState, useEffect } from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import Image from 'next/image';

// Define navigation items
const navItems = [
  { href: '/', label: 'HOME' },
  { href: '/services', label: 'SERVICES' },
  { href: '/about', label: 'ABOUT US' },
  { href: '/contact', label: 'CONTACT US' },
  // { href: '/blog', label: 'BLOG' }, // Uncomment when blog is ready
];

const Navbar = () => {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [scrollingDown, setScrollingDown] = useState(false);
  const [prevScrollY, setPrevScrollY] = useState(0);
  const pathname = usePathname();
  
  // Handle scroll behavior
  useEffect(() => {
    const handleScroll = () => {
      const currentScrollY = window.scrollY;
      const scrollingDown = currentScrollY > prevScrollY;
      
      setScrollingDown(scrollingDown && currentScrollY > 100);
      setPrevScrollY(currentScrollY);
    };
    
    window.addEventListener('scroll', handleScroll, { passive: true });
    return () => window.removeEventListener('scroll', handleScroll);
  }, [prevScrollY]);
  
  // Close mobile menu when route changes
  useEffect(() => {
    setMobileMenuOpen(false);
  }, [pathname]);

  // Add body overflow control for mobile menu
  useEffect(() => {
    if (mobileMenuOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
    return () => {
      document.body.style.overflow = '';
    };
  }, [mobileMenuOpen]);
  
  // Function to determine if a navigation item should be highlighted
  const isActive = (path: string): boolean => {
    // Check if pathname is null
    if (!pathname) return false;
    
    // Check if we're on the specific route
    if (pathname === path) {
      return true;
    }
    
    // Check if we're on the blog route or a sub-route
    if (path === '/blog' && pathname.startsWith('/blog')) {
      return true;
    }
    
    return false;
  };

  const linkBaseClasses = "font-satoshi font-medium text-[16px] tracking-wide leading-[1.2] px-6 py-2 uppercase transition-all";
  const activeLinkClasses = "text-white font-semibold"; // More visible active state
  const inactiveLinkClasses = "text-white hover:text-white/90"; // Lighter text for inactive

  // About page specific classes
  const aboutPageLinkClasses = "font-satoshi font-medium text-[16px] tracking-wide leading-[1.2] px-6 py-2 uppercase transition-all";
  const aboutPageActiveLinkClasses = "text-[#00B4E1] font-semibold"; // Cyan color for active state
  const aboutPageInactiveLinkClasses = "text-[#101B21] hover:text-[#00B4E1]/80"; // Dark text for inactive

  const contactButtonBaseClasses = "font-clash font-semibold text-[16px] tracking-wide leading-[1.2] rounded-[4px] px-6 py-2 transition-all uppercase";
  const activeContactButtonClasses = "bg-white text-[#101B21]"; // Active state with white background
  const inactiveContactButtonClasses = "bg-white text-[#101B21] hover:bg-white/90"; // White button with dark text

  // About page specific contact button
  const aboutPageContactButtonClasses = "font-clash font-semibold text-[16px] tracking-wide leading-[1.2] rounded-[4px] px-6 py-2 transition-all uppercase";
  const aboutPageActiveContactButtonClasses = "bg-[#00B4E1] text-white"; // Cyan button with white text
  const aboutPageInactiveContactButtonClasses = "bg-[#00B4E1] text-white hover:bg-[#00B4E1]/90"; // Cyan button with white text

  // Determine if we're on the about page
  const isAboutPage = pathname === '/about' || pathname === '/contact';

  return (
    <nav 
      className={`fixed top-0 left-0 right-0 z-[100] transition-transform duration-300 ${
        scrollingDown ? '-translate-y-full' : 'translate-y-0'
      } ${pathname === '/' ? 'pt-[10px] md:pt-[40px] bg-transparent' : ''} ${
        isAboutPage ? 'bg-white py-3 shadow-sm' : 'bg-transparent py-2 md:py-4'
      }`}
    >
      <div className="container mx-auto px-4 md:px-6">
        <div className="flex justify-between items-center">
          {/* Logo */}
          <Link href="/" className="flex items-center">
            {isAboutPage ? (
              <svg width="80" height="70" viewBox="0 0 104 92" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" aria-label="Dadson Logo" className="w-[80px] h-[70px] md:w-[104px] md:h-[92px]">
                <title>Dadson Logo</title>
                <desc>Dadson company logo in blue color</desc>
                <path d="M69.0182 48.8306L26.2195 91.6293H0V0.364258H51.565L18.0888 33.867C12.1828 39.773 10.3819 44.6726 10.4348 49.4662C10.5143 54.2334 12.3417 58.9741 15.8906 62.4965C19.4925 66.1249 24.0743 67.9523 28.8679 68.0053C33.6351 68.0847 38.6407 66.2573 44.5467 60.3248L62.556 42.342C64.251 40.6205 65.4163 40.0908 66.6876 40.1702C67.8529 40.1702 69.0447 40.6734 69.9452 41.6004C70.7662 42.3949 71.1899 43.3484 71.2694 44.3548C71.4018 45.679 70.8456 46.9767 69.0182 48.8306Z" fill="#00B4E1"/>
                <path d="M103.58 45.917C103.58 57.9144 99.1307 68.72 91.8475 76.6918C83.4785 85.8289 71.481 91.523 55.1667 91.523V91.629H48.8899L82.4721 58.0468C87.716 52.8029 89.4639 47.4795 89.0666 42.2621C88.7488 37.8657 86.9214 33.5488 83.6903 30.3442C80.2209 26.8747 75.5332 25.0208 70.713 24.9678C65.9458 24.8884 61.0197 26.6628 56.0672 31.6154L36.6012 51.0814C35.224 52.4586 34.3765 52.9618 33.3966 52.9883C32.2313 53.1207 30.907 52.7499 29.9271 51.77C29.0002 50.8166 28.5499 49.7307 28.5234 48.5654C28.5234 47.4795 29.0002 46.3937 30.4568 44.937L72.5139 2.87988C78.9496 4.94566 84.3525 8.20324 88.8548 12.3348C97.886 20.7303 103.58 32.7277 103.58 45.917Z" fill="#00B4E1"/>
                <path d="M38.4813 91.9997C38.4019 91.9997 38.296 91.9732 38.2165 91.8937C38.0841 91.7613 38.0841 91.523 38.2165 91.364L39.5142 90.0133C39.6731 89.8544 39.9115 89.8544 40.0704 89.9869C40.2028 90.1458 40.2028 90.3841 40.0704 90.543L38.7462 91.8937C38.6932 91.9732 38.5873 91.9997 38.4813 91.9997Z" fill="#03033D"/>
                <path d="M42.4544 87.8947C42.375 87.8947 42.269 87.8682 42.1896 87.7887C42.0571 87.6298 42.0571 87.3915 42.1896 87.259L44.8645 84.5047C44.9969 84.3458 45.2353 84.3458 45.3942 84.4782C45.5266 84.6371 45.5531 84.8755 45.3942 85.0344L42.7193 87.7887C42.6663 87.8417 42.5603 87.8947 42.4544 87.8947ZM47.7778 82.3859C47.6983 82.3859 47.5924 82.3594 47.5394 82.28C47.3805 82.1211 47.3805 81.8827 47.5129 81.7503L50.1879 78.9959C50.3203 78.837 50.5586 78.837 50.7175 78.9694C50.8765 79.1283 50.8765 79.3667 50.7175 79.5256L48.0691 82.28C47.9897 82.333 47.8837 82.3859 47.7778 82.3859ZM53.1276 76.8772C53.0217 76.8772 52.9157 76.8507 52.8628 76.7712C52.7039 76.6388 52.7039 76.374 52.8363 76.2416L55.5112 73.4872C55.6436 73.3283 55.882 73.3283 56.0409 73.4872C56.1998 73.6196 56.1998 73.858 56.0409 74.0169L53.3925 76.7712C53.313 76.8507 53.2071 76.8772 53.1276 76.8772ZM58.451 71.3684C58.345 71.3684 58.2656 71.3419 58.1861 71.2625C58.0272 71.1301 58.0272 70.8917 58.1861 70.7328L60.8346 67.9784C60.9935 67.8195 61.2318 67.8195 61.3642 67.9784C61.5231 68.1109 61.5231 68.3492 61.3907 68.5081L58.7158 71.2625C58.6364 71.3419 58.5304 71.3684 58.451 71.3684ZM63.7743 65.8597C63.6684 65.8597 63.5889 65.8332 63.5095 65.7537C63.3506 65.6213 63.3506 65.383 63.5095 65.2241L66.1579 62.4697C66.3168 62.3108 66.5552 62.3108 66.6876 62.4697C66.8465 62.6021 66.8465 62.8405 66.7141 62.9994L64.0392 65.7537C63.9597 65.8332 63.8802 65.8597 63.7743 65.8597ZM29.0533 60.7482C28.7002 60.7482 28.3559 60.7305 28.0204 60.6952C27.8086 60.6952 27.6497 60.5098 27.6762 60.298C27.6762 60.0861 27.8616 59.9272 28.0734 59.9537C29.2917 60.0596 30.51 59.9537 31.7548 59.6888C31.9666 59.6359 32.1785 59.7683 32.205 59.9802C32.2579 60.192 32.1255 60.3774 31.9401 60.4304C30.9602 60.6423 29.9803 60.7482 29.0533 60.7482ZM69.0977 60.3509C68.9918 60.3509 68.9123 60.3245 68.8328 60.245C68.7004 60.1126 68.6739 59.8742 68.8328 59.7153L71.4813 56.9609C71.6402 56.802 71.8785 56.802 72.0374 56.9609C72.1699 57.0934 72.1699 57.3317 72.0374 57.4906L69.3625 60.245C69.2831 60.3245 69.2036 60.3509 69.0977 60.3509ZM24.3656 59.7153C24.3127 59.7153 24.2597 59.7065 24.2067 59.6888C23.2268 59.2386 22.2998 58.6559 21.4523 57.9144C21.2758 57.7731 21.108 57.6319 20.9491 57.4906C20.7902 57.3317 20.7902 57.0934 20.9227 56.9609C21.0551 56.802 21.2934 56.7756 21.4523 56.9345C21.6112 57.0757 21.7701 57.217 21.929 57.3582C22.7501 58.0203 23.6241 58.5765 24.5245 59.0002C24.7099 59.1062 24.7893 59.3181 24.7099 59.5034C24.6304 59.6359 24.498 59.7153 24.3656 59.7153ZM35.4626 59.1856C35.3301 59.1856 35.1977 59.1062 35.1183 58.9738C35.0388 58.7884 35.1182 58.55 35.3036 58.4706C36.9721 57.676 38.111 56.8285 38.2434 56.7226L38.4553 56.5107C38.5877 56.3783 38.8261 56.3783 38.985 56.5107C39.1174 56.6696 39.1174 56.908 38.985 57.0404C38.8525 57.1728 38.7731 57.2523 38.7201 57.3052C38.6672 57.3317 37.5019 58.2587 35.6215 59.1591C35.5685 59.1768 35.5155 59.1856 35.4626 59.1856ZM74.421 54.8422C74.3416 54.8422 74.2356 54.8157 74.1562 54.7363C74.0238 54.6038 74.0238 54.3655 74.1562 54.2066L76.2749 52.0349C76.4515 51.8406 76.6192 51.6464 76.7782 51.4522C76.9106 51.2933 77.1489 51.2668 77.3078 51.3992C77.4667 51.5317 77.4932 51.77 77.3608 51.9289C77.1842 52.1408 76.9988 52.3438 76.8046 52.5381L74.6859 54.7363C74.6329 54.8157 74.527 54.8422 74.421 54.8422ZM18.9363 54.5244C18.8039 54.5244 18.645 54.4449 18.592 54.3125C18.1153 53.2267 17.877 52.0613 17.877 50.8695C17.877 50.7106 17.877 50.5517 17.877 50.3928C17.9034 50.181 18.0623 50.022 18.2742 50.0485C18.4861 50.0485 18.645 50.2339 18.645 50.4458C18.6273 50.587 18.6185 50.7283 18.6185 50.8695C18.6185 51.9554 18.8569 53.0148 19.2806 53.9947C19.3601 54.1801 19.2806 54.392 19.0952 54.4979C19.0423 54.5156 18.9893 54.5244 18.9363 54.5244ZM41.448 54.4714C41.3686 54.4714 41.2626 54.4184 41.1832 54.339C41.0508 54.2066 41.0508 53.9682 41.1832 53.8093C42.0042 53.0148 42.9312 52.1143 43.9376 51.1344C44.0965 50.9755 44.3348 50.9755 44.4672 51.1344C44.6262 51.2668 44.5997 51.5052 44.4672 51.6641C43.4608 52.644 42.5339 53.5709 41.7129 54.3655C41.6334 54.4184 41.554 54.4714 41.448 54.4714ZM46.9567 49.0951C46.8508 49.0951 46.7449 49.0421 46.6919 48.9627C46.533 48.8302 46.533 48.5919 46.6919 48.433C47.5924 47.559 48.5193 46.6585 49.4463 45.7581C49.6052 45.6256 49.8435 45.6256 49.976 45.7845C50.1084 45.917 50.1084 46.1553 49.976 46.3142C49.049 47.1882 48.1221 48.0887 47.2216 48.9892C47.1421 49.0421 47.0362 49.0951 46.9567 49.0951ZM79.0823 48.8302C79.0293 48.8302 78.9763 48.8214 78.9234 48.8038C78.738 48.7243 78.6585 48.486 78.738 48.3006C79.2412 47.1353 79.559 45.9435 79.6649 44.7252C79.6649 44.5133 79.8503 44.3544 80.0622 44.3809C80.2741 44.4074 80.433 44.5928 80.4065 44.7781C80.3006 46.0759 79.9563 47.3736 79.4266 48.5919C79.3736 48.7508 79.2147 48.8302 79.0823 48.8302ZM19.1482 47.0823C19.0952 47.0823 19.0423 47.0735 18.9893 47.0558C18.8039 46.9763 18.7245 46.7645 18.8039 46.5526C19.2541 45.4403 19.8633 44.3014 20.6578 43.1361C20.7637 42.9507 21.0021 42.9242 21.1875 43.0302C21.3464 43.1361 21.3994 43.3745 21.2669 43.5599C20.5254 44.6722 19.9162 45.7845 19.4925 46.8439C19.4395 47.0028 19.2806 47.0823 19.1482 47.0823ZM52.4655 43.7453C52.3861 43.7453 52.2801 43.7188 52.2007 43.6393C52.0682 43.4804 52.0682 43.2421 52.2007 43.1096C53.2071 42.1562 54.134 41.2557 55.008 40.4612C55.1669 40.3288 55.4053 40.3288 55.5377 40.4877C55.6701 40.6201 55.6701 40.8585 55.5112 41.0174C54.6637 41.8119 53.7103 42.7124 52.7304 43.6393C52.6509 43.7188 52.5714 43.7453 52.4655 43.7453ZM79.7179 41.3352C79.559 41.3352 79.4001 41.2292 79.3471 41.0439C79.2765 40.779 79.197 40.5142 79.1088 40.2493C78.9763 39.8785 78.5791 38.8721 77.7845 37.7333C77.6521 37.5479 77.7051 37.336 77.864 37.2036C78.0229 37.0712 78.2613 37.1242 78.3937 37.2831C79.2412 38.5278 79.6649 39.5872 79.8239 40.011C79.9298 40.2935 80.0181 40.576 80.0887 40.8585C80.1417 41.0703 80.0092 41.2557 79.8239 41.3087C79.7885 41.3264 79.7532 41.3352 79.7179 41.3352ZM23.3327 40.6996C23.2268 40.6996 23.1473 40.6731 23.0679 40.5936C22.909 40.4612 22.909 40.2228 23.0414 40.0639C23.4652 39.6137 23.9154 39.137 24.3656 38.6867C24.6305 38.3954 25.0807 37.9452 25.7163 37.2831C25.8752 37.1507 26.1136 37.1507 26.246 37.2831C26.4049 37.442 26.4049 37.6803 26.2725 37.8128C25.6369 38.4749 25.1601 38.9516 24.8953 39.2164C24.4539 39.6578 24.0213 40.1081 23.5976 40.5671C23.5181 40.6466 23.4387 40.6996 23.3327 40.6996ZM58.0802 38.5014C57.9742 38.5014 57.8948 38.4749 57.8153 38.3954C57.6564 38.2365 57.6829 37.9981 57.8418 37.8392C58.4068 37.3449 58.8394 36.9829 59.1395 36.7534C59.2808 36.6474 59.4397 36.515 59.6163 36.3561C59.9606 36.0913 60.3843 35.747 60.861 35.4027C61.0199 35.2967 61.2583 35.3232 61.3907 35.5086C61.4967 35.6675 61.4702 35.9059 61.2848 36.0118C60.8346 36.3561 60.4373 36.6739 60.093 36.9388C59.9165 37.0977 59.7487 37.2389 59.5898 37.3625C59.3073 37.5744 58.8924 37.9275 58.345 38.4219C58.2656 38.4749 58.1861 38.5014 58.0802 38.5014ZM75.4009 35.1643C75.3303 35.1643 75.2597 35.1467 75.1891 35.1114C74.6064 34.7141 73.9973 34.3698 73.3617 34.0785C72.8673 33.8666 72.3641 33.6989 71.852 33.5753C71.6402 33.5223 71.5077 33.3369 71.5607 33.125C71.6137 32.9132 71.8256 32.8072 72.0374 32.8602C72.5848 32.9838 73.1233 33.1603 73.653 33.3899C74.3416 33.6812 75.0037 34.052 75.6128 34.5022C75.7982 34.6082 75.8247 34.8465 75.7188 35.0054C75.6393 35.1114 75.5069 35.1643 75.4009 35.1643ZM28.6561 35.1643C28.5766 35.1643 28.4707 35.1378 28.3912 35.0584C28.2588 34.926 28.2588 34.6876 28.3912 34.5287L31.0661 31.7743C31.1986 31.6154 31.4369 31.6154 31.5958 31.7743C31.7547 31.9068 31.7547 32.1451 31.5958 32.304L28.9474 35.0584C28.8679 35.1378 28.762 35.1643 28.6561 35.1643ZM64.4099 34.2374C64.2775 34.2374 64.1186 34.1579 64.0657 33.999C63.9862 33.8136 64.0921 33.5753 64.2775 33.5223C64.7719 33.3281 65.2839 33.1603 65.8136 33.0191C66.2639 32.9132 67.0849 32.7013 68.0913 32.5953C68.3031 32.5689 68.4885 32.7278 68.515 32.9396C68.515 33.1515 68.3826 33.3369 68.1707 33.3369C67.2968 33.4428 66.5817 33.6018 65.999 33.7607C65.5046 33.8843 65.0191 34.0343 64.5424 34.2109C64.507 34.2285 64.4629 34.2374 64.4099 34.2374ZM34.0059 29.6556C33.9 29.6556 33.8205 29.6026 33.7411 29.5496C33.5822 29.3907 33.5822 29.1524 33.7411 29.02L36.3895 26.2391C36.5484 26.1067 36.7868 26.1067 36.9192 26.2391C37.0781 26.3715 37.0781 26.6099 36.9457 26.7688L34.2708 29.5232C34.1913 29.6026 34.0854 29.6556 34.0059 29.6556ZM39.3293 24.1204C39.2233 24.1204 39.1439 24.0939 39.0644 24.0144C38.9055 23.882 38.9055 23.6436 39.0644 23.4847L41.7129 20.7304C41.8718 20.5715 42.1101 20.5715 42.2426 20.7039C42.4015 20.8628 42.4015 21.1011 42.269 21.2336L39.5941 24.0144C39.5147 24.0939 39.4352 24.1204 39.3293 24.1204ZM44.6526 18.5851C44.5467 18.5851 44.4672 18.5586 44.3878 18.4792C44.2289 18.3468 44.2289 18.1084 44.3878 17.9495L47.0362 15.1951C47.1951 15.0362 47.4335 15.0362 47.5659 15.1686C47.7248 15.3275 47.7248 15.5659 47.5924 15.6983L44.9175 18.4792C44.838 18.5586 44.7586 18.5851 44.6526 18.5851ZM49.976 13.0499C49.87 13.0499 49.7906 13.0234 49.7111 12.944C49.5522 12.8115 49.5522 12.5732 49.6847 12.4143L52.3596 9.6599C52.492 9.50099 52.7303 9.50099 52.8893 9.63341C53.0482 9.79232 53.0482 10.0307 52.8893 10.1896L50.2408 12.944C50.1614 13.0234 50.0554 13.0499 49.976 13.0499ZM55.2993 7.51467C55.1934 7.51467 55.1139 7.48818 55.0345 7.40873C54.8756 7.27631 54.8756 7.03795 55.008 6.87904L57.6829 4.12467C57.8153 3.96576 58.0537 3.96576 58.2126 4.09818C58.3715 4.25709 58.3715 4.49545 58.2126 4.62787L55.5642 7.40873C55.4847 7.48818 55.3788 7.51467 55.2993 7.51467Z" fill={isAboutPage ? "#101B21" : "white"}/>
                <path d="M60.4911 2.11213C60.4117 2.11213 60.3057 2.05916 60.2263 2.00619C60.0938 1.84728 60.0938 1.60892 60.2263 1.4765L61.524 0.0993163C61.6829 -0.0331054 61.9212 -0.0331054 62.0537 0.0993163C62.2126 0.258222 62.2126 0.496582 62.0802 0.629003L60.7824 1.9797C60.703 2.05916 60.5971 2.11213 60.4911 2.11213Z" fill="#03033D"/>
              </svg>
            ) : (
              <svg width="80" height="70" viewBox="0 0 104 92" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" aria-label="Dadson Logo" className="w-[80px] h-[70px] md:w-[104px] md:h-[92px]">
                <title>Dadson Logo</title>
                <desc>Dadson company logo in blue color</desc>
                <path d="M69.0182 48.8306L26.2195 91.6293H0V0.364258H51.565L18.0888 33.867C12.1828 39.773 10.3819 44.6726 10.4348 49.4662C10.5143 54.2334 12.3417 58.9741 15.8906 62.4965C19.4925 66.1249 24.0743 67.9523 28.8679 68.0053C33.6351 68.0847 38.6407 66.2573 44.5467 60.3248L62.556 42.342C64.251 40.6205 65.4163 40.0908 66.6876 40.1702C67.8529 40.1702 69.0447 40.6734 69.9452 41.6004C70.7662 42.3949 71.1899 43.3484 71.2694 44.3548C71.4018 45.679 70.8456 46.9767 69.0182 48.8306Z" fill="#00B4E1"/>
                <path d="M103.58 45.917C103.58 57.9144 99.1307 68.72 91.8475 76.6918C83.4785 85.8289 71.481 91.523 55.1667 91.523V91.629H48.8899L82.4721 58.0468C87.716 52.8029 89.4639 47.4795 89.0666 42.2621C88.7488 37.8657 86.9214 33.5488 83.6903 30.3442C80.2209 26.8747 75.5332 25.0208 70.713 24.9678C65.9458 24.8884 61.0197 26.6628 56.0672 31.6154L36.6012 51.0814C35.224 52.4586 34.3765 52.9618 33.3966 52.9883C32.2313 53.1207 30.907 52.7499 29.9271 51.77C29.0002 50.8166 28.5499 49.7307 28.5234 48.5654C28.5234 47.4795 29.0002 46.3937 30.4568 44.937L72.5139 2.87988C78.9496 4.94566 84.3525 8.20324 88.8548 12.3348C97.886 20.7303 103.58 32.7277 103.58 45.917Z" fill="#00B4E1"/>
                <path d="M38.4813 91.9997C38.4019 91.9997 38.296 91.9732 38.2165 91.8937C38.0841 91.7613 38.0841 91.523 38.2165 91.364L39.5142 90.0133C39.6731 89.8544 39.9115 89.8544 40.0704 89.9869C40.2028 90.1458 40.2028 90.3841 40.0704 90.543L38.7462 91.8937C38.6932 91.9732 38.5873 91.9997 38.4813 91.9997Z" fill="#03033D"/>
                <path d="M42.4544 87.8947C42.375 87.8947 42.269 87.8682 42.1896 87.7887C42.0571 87.6298 42.0571 87.3915 42.1896 87.259L44.8645 84.5047C44.9969 84.3458 45.2353 84.3458 45.3942 84.4782C45.5266 84.6371 45.5531 84.8755 45.3942 85.0344L42.7193 87.7887C42.6663 87.8417 42.5603 87.8947 42.4544 87.8947ZM47.7778 82.3859C47.6983 82.3859 47.5924 82.3594 47.5394 82.28C47.3805 82.1211 47.3805 81.8827 47.5129 81.7503L50.1879 78.9959C50.3203 78.837 50.5586 78.837 50.7175 78.9694C50.8765 79.1283 50.8765 79.3667 50.7175 79.5256L48.0691 82.28C47.9897 82.333 47.8837 82.3859 47.7778 82.3859ZM53.1276 76.8772C53.0217 76.8772 52.9157 76.8507 52.8628 76.7712C52.7039 76.6388 52.7039 76.374 52.8363 76.2416L55.5112 73.4872C55.6436 73.3283 55.882 73.3283 56.0409 73.4872C56.1998 73.6196 56.1998 73.858 56.0409 74.0169L53.3925 76.7712C53.313 76.8507 53.2071 76.8772 53.1276 76.8772ZM58.451 71.3684C58.345 71.3684 58.2656 71.3419 58.1861 71.2625C58.0272 71.1301 58.0272 70.8917 58.1861 70.7328L60.8346 67.9784C60.9935 67.8195 61.2318 67.8195 61.3642 67.9784C61.5231 68.1109 61.5231 68.3492 61.3907 68.5081L58.7158 71.2625C58.6364 71.3419 58.5304 71.3684 58.451 71.3684ZM63.7743 65.8597C63.6684 65.8597 63.5889 65.8332 63.5095 65.7537C63.3506 65.6213 63.3506 65.383 63.5095 65.2241L66.1579 62.4697C66.3168 62.3108 66.5552 62.3108 66.6876 62.4697C66.8465 62.6021 66.8465 62.8405 66.7141 62.9994L64.0392 65.7537C63.9597 65.8332 63.8802 65.8597 63.7743 65.8597ZM29.0533 60.7482C28.7002 60.7482 28.3559 60.7305 28.0204 60.6952C27.8086 60.6952 27.6497 60.5098 27.6762 60.298C27.6762 60.0861 27.8616 59.9272 28.0734 59.9537C29.2917 60.0596 30.51 59.9537 31.7548 59.6888C31.9666 59.6359 32.1785 59.7683 32.205 59.9802C32.2579 60.192 32.1255 60.3774 31.9401 60.4304C30.9602 60.6423 29.9803 60.7482 29.0533 60.7482ZM69.0977 60.3509C68.9918 60.3509 68.9123 60.3245 68.8328 60.245C68.7004 60.1126 68.6739 59.8742 68.8328 59.7153L71.4813 56.9609C71.6402 56.802 71.8785 56.802 72.0374 56.9609C72.1699 57.0934 72.1699 57.3317 72.0374 57.4906L69.3625 60.245C69.2831 60.3245 69.2036 60.3509 69.0977 60.3509ZM24.3656 59.7153C24.3127 59.7153 24.2597 59.7065 24.2067 59.6888C23.2268 59.2386 22.2998 58.6559 21.4523 57.9144C21.2758 57.7731 21.108 57.6319 20.9491 57.4906C20.7902 57.3317 20.7902 57.0934 20.9227 56.9609C21.0551 56.802 21.2934 56.7756 21.4523 56.9345C21.6112 57.0757 21.7701 57.217 21.929 57.3582C22.7501 58.0203 23.6241 58.5765 24.5245 59.0002C24.7099 59.1062 24.7893 59.3181 24.7099 59.5034C24.6304 59.6359 24.498 59.7153 24.3656 59.7153ZM35.4626 59.1856C35.3301 59.1856 35.1977 59.1062 35.1183 58.9738C35.0388 58.7884 35.1182 58.55 35.3036 58.4706C36.9721 57.676 38.111 56.8285 38.2434 56.7226L38.4553 56.5107C38.5877 56.3783 38.8261 56.3783 38.985 56.5107C39.1174 56.6696 39.1174 56.908 38.985 57.0404C38.8525 57.1728 38.7731 57.2523 38.7201 57.3052C38.6672 57.3317 37.5019 58.2587 35.6215 59.1591C35.5685 59.1768 35.5155 59.1856 35.4626 59.1856ZM74.421 54.8422C74.3416 54.8422 74.2356 54.8157 74.1562 54.7363C74.0238 54.6038 74.0238 54.3655 74.1562 54.2066L76.2749 52.0349C76.4515 51.8406 76.6192 51.6464 76.7782 51.4522C76.9106 51.2933 77.1489 51.2668 77.3078 51.3992C77.4667 51.5317 77.4932 51.77 77.3608 51.9289C77.1842 52.1408 76.9988 52.3438 76.8046 52.5381L74.6859 54.7363C74.6329 54.8157 74.527 54.8422 74.421 54.8422ZM18.9363 54.5244C18.8039 54.5244 18.645 54.4449 18.592 54.3125C18.1153 53.2267 17.877 52.0613 17.877 50.8695C17.877 50.7106 17.877 50.5517 17.877 50.3928C17.9034 50.181 18.0623 50.022 18.2742 50.0485C18.4861 50.0485 18.645 50.2339 18.645 50.4458C18.6273 50.587 18.6185 50.7283 18.6185 50.8695C18.6185 51.9554 18.8569 53.0148 19.2806 53.9947C19.3601 54.1801 19.2806 54.392 19.0952 54.4979C19.0423 54.5156 18.9893 54.5244 18.9363 54.5244ZM41.448 54.4714C41.3686 54.4714 41.2626 54.4184 41.1832 54.339C41.0508 54.2066 41.0508 53.9682 41.1832 53.8093C42.0042 53.0148 42.9312 52.1143 43.9376 51.1344C44.0965 50.9755 44.3348 50.9755 44.4672 51.1344C44.6262 51.2668 44.5997 51.5052 44.4672 51.6641C43.4608 52.644 42.5339 53.5709 41.7129 54.3655C41.6334 54.4184 41.554 54.4714 41.448 54.4714ZM46.9567 49.0951C46.8508 49.0951 46.7449 49.0421 46.6919 48.9627C46.533 48.8302 46.533 48.5919 46.6919 48.433C47.5924 47.559 48.5193 46.6585 49.4463 45.7581C49.6052 45.6256 49.8435 45.6256 49.976 45.7845C50.1084 45.917 50.1084 46.1553 49.976 46.3142C49.049 47.1882 48.1221 48.0887 47.2216 48.9892C47.1421 49.0421 47.0362 49.0951 46.9567 49.0951ZM79.0823 48.8302C79.0293 48.8302 78.9763 48.8214 78.9234 48.8038C78.738 48.7243 78.6585 48.486 78.738 48.3006C79.2412 47.1353 79.559 45.9435 79.6649 44.7252C79.6649 44.5133 79.8503 44.3544 80.0622 44.3809C80.2741 44.4074 80.433 44.5928 80.4065 44.7781C80.3006 46.0759 79.9563 47.3736 79.4266 48.5919C79.3736 48.7508 79.2147 48.8302 79.0823 48.8302ZM19.1482 47.0823C19.0952 47.0823 19.0423 47.0735 18.9893 47.0558C18.8039 46.9763 18.7245 46.7645 18.8039 46.5526C19.2541 45.4403 19.8633 44.3014 20.6578 43.1361C20.7637 42.9507 21.0021 42.9242 21.1875 43.0302C21.3464 43.1361 21.3994 43.3745 21.2669 43.5599C20.5254 44.6722 19.9162 45.7845 19.4925 46.8439C19.4395 47.0028 19.2806 47.0823 19.1482 47.0823ZM52.4655 43.7453C52.3861 43.7453 52.2801 43.7188 52.2007 43.6393C52.0682 43.4804 52.0682 43.2421 52.2007 43.1096C53.2071 42.1562 54.134 41.2557 55.008 40.4612C55.1669 40.3288 55.4053 40.3288 55.5377 40.4877C55.6701 40.6201 55.6701 40.8585 55.5112 41.0174C54.6637 41.8119 53.7103 42.7124 52.7304 43.6393C52.6509 43.7188 52.5714 43.7453 52.4655 43.7453ZM79.7179 41.3352C79.559 41.3352 79.4001 41.2292 79.3471 41.0439C79.2765 40.779 79.197 40.5142 79.1088 40.2493C78.9763 39.8785 78.5791 38.8721 77.7845 37.7333C77.6521 37.5479 77.7051 37.336 77.864 37.2036C78.0229 37.0712 78.2613 37.1242 78.3937 37.2831C79.2412 38.5278 79.6649 39.5872 79.8239 40.011C79.9298 40.2935 80.0181 40.576 80.0887 40.8585C80.1417 41.0703 80.0092 41.2557 79.8239 41.3087C79.7885 41.3264 79.7532 41.3352 79.7179 41.3352ZM23.3327 40.6996C23.2268 40.6996 23.1473 40.6731 23.0679 40.5936C22.909 40.4612 22.909 40.2228 23.0414 40.0639C23.4652 39.6137 23.9154 39.137 24.3656 38.6867C24.6305 38.3954 25.0807 37.9452 25.7163 37.2831C25.8752 37.1507 26.1136 37.1507 26.246 37.2831C26.4049 37.442 26.4049 37.6803 26.2725 37.8128C25.6369 38.4749 25.1601 38.9516 24.8953 39.2164C24.4539 39.6578 24.0213 40.1081 23.5976 40.5671C23.5181 40.6466 23.4387 40.6996 23.3327 40.6996ZM58.0802 38.5014C57.9742 38.5014 57.8948 38.4749 57.8153 38.3954C57.6564 38.2365 57.6829 37.9981 57.8418 37.8392C58.4068 37.3449 58.8394 36.9829 59.1395 36.7534C59.2808 36.6474 59.4397 36.515 59.6163 36.3561C59.9606 36.0913 60.3843 35.747 60.861 35.4027C61.0199 35.2967 61.2583 35.3232 61.3907 35.5086C61.4967 35.6675 61.4702 35.9059 61.2848 36.0118C60.8346 36.3561 60.4373 36.6739 60.093 36.9388C59.9165 37.0977 59.7487 37.2389 59.5898 37.3625C59.3073 37.5744 58.8924 37.9275 58.345 38.4219C58.2656 38.4749 58.1861 38.5014 58.0802 38.5014ZM75.4009 35.1643C75.3303 35.1643 75.2597 35.1467 75.1891 35.1114C74.6064 34.7141 73.9973 34.3698 73.3617 34.0785C72.8673 33.8666 72.3641 33.6989 71.852 33.5753C71.6402 33.5223 71.5077 33.3369 71.5607 33.125C71.6137 32.9132 71.8256 32.8072 72.0374 32.8602C72.5848 32.9838 73.1233 33.1603 73.653 33.3899C74.3416 33.6812 75.0037 34.052 75.6128 34.5022C75.7982 34.6082 75.8247 34.8465 75.7188 35.0054C75.6393 35.1114 75.5069 35.1643 75.4009 35.1643ZM28.6561 35.1643C28.5766 35.1643 28.4707 35.1378 28.3912 35.0584C28.2588 34.926 28.2588 34.6876 28.3912 34.5287L31.0661 31.7743C31.1986 31.6154 31.4369 31.6154 31.5958 31.7743C31.7547 31.9068 31.7547 32.1451 31.5958 32.304L28.9474 35.0584C28.8679 35.1378 28.762 35.1643 28.6561 35.1643ZM64.4099 34.2374C64.2775 34.2374 64.1186 34.1579 64.0657 33.999C63.9862 33.8136 64.0921 33.5753 64.2775 33.5223C64.7719 33.3281 65.2839 33.1603 65.8136 33.0191C66.2639 32.9132 67.0849 32.7013 68.0913 32.5953C68.3031 32.5689 68.4885 32.7278 68.515 32.9396C68.515 33.1515 68.3826 33.3369 68.1707 33.3369C67.2968 33.4428 66.5817 33.6018 65.999 33.7607C65.5046 33.8843 65.0191 34.0343 64.5424 34.2109C64.507 34.2285 64.4629 34.2374 64.4099 34.2374ZM34.0059 29.6556C33.9 29.6556 33.8205 29.6026 33.7411 29.5496C33.5822 29.3907 33.5822 29.1524 33.7411 29.02L36.3895 26.2391C36.5484 26.1067 36.7868 26.1067 36.9192 26.2391C37.0781 26.3715 37.0781 26.6099 36.9457 26.7688L34.2708 29.5232C34.1913 29.6026 34.0854 29.6556 34.0059 29.6556ZM39.3293 24.1204C39.2233 24.1204 39.1439 24.0939 39.0644 24.0144C38.9055 23.882 38.9055 23.6436 39.0644 23.4847L41.7129 20.7304C41.8718 20.5715 42.1101 20.5715 42.2426 20.7039C42.4015 20.8628 42.4015 21.1011 42.269 21.2336L39.5941 24.0144C39.5147 24.0939 39.4352 24.1204 39.3293 24.1204ZM44.6526 18.5851C44.5467 18.5851 44.4672 18.5586 44.3878 18.4792C44.2289 18.3468 44.2289 18.1084 44.3878 17.9495L47.0362 15.1951C47.1951 15.0362 47.4335 15.0362 47.5659 15.1686C47.7248 15.3275 47.7248 15.5659 47.5924 15.6983L44.9175 18.4792C44.838 18.5586 44.7586 18.5851 44.6526 18.5851ZM49.976 13.0499C49.87 13.0499 49.7906 13.0234 49.7111 12.944C49.5522 12.8115 49.5522 12.5732 49.6847 12.4143L52.3596 9.6599C52.492 9.50099 52.7303 9.50099 52.8893 9.63341C53.0482 9.79232 53.0482 10.0307 52.8893 10.1896L50.2408 12.944C50.1614 13.0234 50.0554 13.0499 49.976 13.0499ZM55.2993 7.51467C55.1934 7.51467 55.1139 7.48818 55.0345 7.40873C54.8756 7.27631 54.8756 7.03795 55.008 6.87904L57.6829 4.12467C57.8153 3.96576 58.0537 3.96576 58.2126 4.09818C58.3715 4.25709 58.3715 4.49545 58.2126 4.62787L55.5642 7.40873C55.4847 7.48818 55.3788 7.51467 55.2993 7.51467Z" fill={isAboutPage ? "#101B21" : "white"}/>
                <path d="M60.4911 2.11213C60.4117 2.11213 60.3057 2.05916 60.2263 2.00619C60.0938 1.84728 60.0938 1.60892 60.2263 1.4765L61.524 0.0993163C61.6829 -0.0331054 61.9212 -0.0331054 62.0537 0.0993163C62.2126 0.258222 62.2126 0.496582 62.0802 0.629003L60.7824 1.9797C60.703 2.05916 60.5971 2.11213 60.4911 2.11213Z" fill="#03033D"/>
              </svg>
            )}
          </Link>
          
          {/* Desktop Navigation - Centered */}
          <div className="hidden md:flex flex-1 justify-center items-center">
            <div className="flex space-x-12">
              {navItems.slice(0, -1).map((item) => (
                <Link 
                  key={item.href}
                  href={item.href} 
                  className={`${isAboutPage ? aboutPageLinkClasses : linkBaseClasses} ${
                    isActive(item.href) 
                      ? isAboutPage ? aboutPageActiveLinkClasses : activeLinkClasses
                      : isAboutPage ? aboutPageInactiveLinkClasses : inactiveLinkClasses
                  }`}
                  aria-current={isActive(item.href) ? "page" : undefined}
                >
                  {item.label}
                </Link>
              ))}
            </div>
          </div>
          
          {/* Contact Button */}
          <div className="hidden md:block">
            <Link 
              href={navItems[navItems.length - 1].href}
              className={`${isAboutPage ? aboutPageContactButtonClasses : contactButtonBaseClasses} ${
                isActive(navItems[navItems.length - 1].href)
                  ? isAboutPage ? aboutPageActiveContactButtonClasses : activeContactButtonClasses
                  : isAboutPage ? aboutPageInactiveContactButtonClasses : inactiveContactButtonClasses
              }`}
            >
              {navItems[navItems.length - 1].label}
            </Link>
          </div>
          
          {/* Mobile Menu Button - with improved accessibility */}
          <div className="md:hidden">
            <button
              type="button"
              className={`p-2 rounded-full transition-colors duration-200 ${
                isAboutPage 
                  ? "hover:bg-gray-100 text-[#101B21]" 
                  : "bg-[#00B4E1] hover:bg-[#00B4E1]/90 text-white"
              }`}
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
              aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}
              aria-expanded={mobileMenuOpen}
              aria-controls="mobile-menu"
            >
              {mobileMenuOpen ? (
                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              ) : (
                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              )}
            </button>
          </div>
        </div>
      </div>
      
      {/* Mobile Menu - with improved accessibility and styling */}
      {mobileMenuOpen && (
        <div 
          id="mobile-menu"
          className={`md:hidden fixed top-[60px] left-0 right-0 pt-2 pb-4 z-[100] border-t shadow-lg h-[calc(100vh-60px)] overflow-y-auto ${
            isAboutPage 
              ? "bg-white border-gray-200" 
              : "bg-[#0F1923]/95 backdrop-blur-lg border-white/10"
          }`}
        >
          <div className="container mx-auto px-4">
            <div className="flex flex-col space-y-2">
              {navItems.map((item, index) => (
                <Link 
                  key={item.href}
                  href={item.href} 
                  className={`font-satoshi font-medium text-[18px] tracking-wide py-3 px-4 rounded-md flex justify-center items-center uppercase transition-all ${
                    isActive(item.href) 
                      ? isAboutPage
                        ? "text-[#00B4E1] font-semibold bg-gray-50"
                        : "text-white font-semibold bg-white/10" 
                      : isAboutPage
                        ? "text-[#101B21] hover:text-[#00B4E1] hover:bg-gray-50"
                        : "text-white/90 hover:text-white hover:bg-white/10"
                  } ${index === navItems.length - 1 
                      ? `mt-2 ${
                         isAboutPage 
                           ? "text-white bg-[#00B4E1] hover:bg-[#00B4E1]/90 shadow-sm" 
                           : "text-[#101B21] bg-white hover:bg-white/90 shadow-sm"
                       }` 
                      : ""
                    }`}
                  onClick={() => setMobileMenuOpen(false)}
                  aria-current={isActive(item.href) ? "page" : undefined}
                >
                  {item.label}
                </Link>
              ))}
            </div>
          </div>
        </div>
      )}
    </nav>
  );
};

export default Navbar; 